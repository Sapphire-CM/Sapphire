<% title "Listing all avaliable Students" %>

<h1>Listing all avaliable Students</h1>

<p>
  <%= form_tag students_path, :method => :get do |f| %>
  
  <div class='row'>
    <div class='nine columns'><%= search_field_tag :q, params[:q] %></div>
    <div class='one column'>
      <%= submit_tag "search!", :class => "tiny button" %>
    </div>
    <div class='two right-aligned columns'>
      <%= link_to "Add Student", new_student_path, :class => 'tiny button' %>
    </div>
  </div>
  <% end %>
</p>

<% if @students.any? %>
  <table class='twelve'>
    <thead>
      <th>Forename</th>
      <th>Surname</th>
      <th>Matriculum Number</th>
      <th>Email</th>
      <th></th>
    </thead>
    <tbody>
      <% @students.each do |student|  %>
      <tr>
        <td><%= student.forename %></td>
        <td><%= student.surname %></td>
        <td><%= student.matriculum_number %></td>
        <td><%= student.email %></td>
        
        <td class='right-aligned'><%= link_to "View", student, :class => "tiny button" %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
<p>
  <% if params[:q].present? %>
    <p>No students found for "<%= params[:q] %>".</p>
  <% else %>
    <p>There are no students present.</p>
  <% end %>
</p>
<% end %>